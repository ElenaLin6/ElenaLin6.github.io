{"title":"","slug":"ip漏洞扫描工具","date":"2021-11-06T05:34:36.987Z","updated":"2021-11-06T09:29:30.557Z","comments":true,"path":"api/articles/ip漏洞扫描工具.json","excerpt":null,"covers":["https://pic.iczkj.com/pic/2021/11/06/d36ae00634aa1.png","https://pic.iczkj.com/pic/2021/11/06/fd9c4f1a4dbf8.png","https://pic.iczkj.com/pic/2021/11/06/9a34351e3fc6a.png","https://pic.iczkj.com/pic/2021/11/06/19e447c7adacf.png","https://pic.iczkj.com/pic/2021/11/06/48f2907117f4c.png","https://pic.iczkj.com/pic/2021/11/06/40d24c4020387.png","https://pic.iczkj.com/pic/2021/11/06/5b491926960ed.png","https://pic.iczkj.com/pic/2021/11/06/e8481daa25683.png","https://pic.iczkj.com/pic/2021/11/06/5f8f58aa7121b.png","https://pic.iczkj.com/pic/2021/11/06/00c6a41fc2ef7.png","https://pic.iczkj.com/pic/2021/11/06/4f1b461c890fa.png","https://pic.iczkj.com/pic/2021/11/06/6fc478c937a90.png","https://pic.iczkj.com/pic/2021/11/06/98c85339f58f7.png","https://pic.iczkj.com/pic/2021/11/06/3f99223bec4cc.png","https://pic.iczkj.com/pic/2021/11/06/41138db1025ac.png"],"content":"<h1 id=\"服务器漏洞扫描系统的简单搭建\"><a class=\"anchor\" href=\"#服务器漏洞扫描系统的简单搭建\">#</a> 服务器漏洞扫描系统的简单搭建</h1>\n<h2 id=\"项目介绍\"><a class=\"anchor\" href=\"#项目介绍\">#</a> 项目介绍</h2>\n<p>这是一款开源的资产巡航扫描系统。系统定位是通过 <code>masscan+nmap</code>  无限循环去发现新增资产，自动进行端口弱口令爆破、指纹识别、 <code>XrayPoc</code>  扫描。主要功能包括:  <code>资产探测</code> 、  <code>端口爆破</code> 、  <code>Poc扫描</code> 、  <code>指纹识别</code> 、  <code>定时任务</code> 、 管理后台识别、 报表展示。 通过 Docker 搭建好之后，设置好你要扫描的网段跟爆破任务，就不需要去操作其他的事情了，没事的时候过来收漏洞就行了。</p>\n<h2 id=\"功能清单\"><a class=\"anchor\" href=\"#功能清单\">#</a> 功能清单</h2>\n<ul>\n<li>\n<p>masscan+namp 巡航扫描资产</p>\n</li>\n<li>\n<p>创建定时爆破任务 (FTP/SSH/SMB/MSSQL/MYSQL/POSTGRESQL/MONGOD)</p>\n</li>\n<li>\n<p>管理后台识别</p>\n</li>\n<li>\n<p>结果导出</p>\n</li>\n<li>\n<p>报表展示</p>\n</li>\n<li>\n<p>docker 一键部署</p>\n</li>\n<li>\n<p>CMS 识别 - 结合威胁情报、如果某个 CMS 爆出漏洞，可以快速定位企业内部有多少资产</p>\n</li>\n<li>\n<p>poc 扫描 - 调用 xray 的 Poc, 对新发现的资产自动扫描 poc</p>\n</li>\n</ul>\n<p><strong>管理后台识别</strong></p>\n<p>不论甲方乙方。大家在渗透一个网站的时候，很多时候都想尽快找到后台地址。linglong 对自己的资产库进行 Title 识别。然后根据 title 关键字、url 关键字、body 关键字 (比如 url 中包含 login、body 中包含 username/password) 进行简单区分后台。帮助我们渗透中尽快锁定后台。</p>\n<p><strong>指纹识别</strong></p>\n<p>系统会对新发现的资产进行一遍指纹识别，也可以手动新增指纹。比如某个 CMS 爆出漏洞，新增指纹扫描一遍系统中存在的资产。可以快速定位到漏洞资产，对于渗透打点或者甲方应急都是极好的。</p>\n<p><strong>POC 扫描</strong></p>\n<p>对于任何一个扫描系统，poc 扫描都是必不可少的。但是 poc 的更新一直是所有开源项目面临的一个问题。综合考虑用 Xray 的 poc, 感谢 Xray 对安全圈做出的贡献！linglong 会对每次新发现的资产进行一遍 Xray 的 Poc 扫描。如果发现漏洞会自动入库，可以可视化查看漏洞结果。</p>\n<p><strong>资产巡航更新</strong></p>\n<p>masscan 可以无限扫描，但是对于失效资产我们也不能一直保存。linglong 通过动态设置资产扫描周期，对于 N 个扫描周期都没有扫描到的资产会进行删除。保存资产的时效性。</p>\n<h2 id=\"预览\"><a class=\"anchor\" href=\"#预览\">#</a> 预览</h2>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/d36ae00634aa1.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/fd9c4f1a4dbf8.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/9a34351e3fc6a.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/19e447c7adacf.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/48f2907117f4c.png\" alt=\"img\" /></p>\n<h2 id=\"开始搭建\"><a class=\"anchor\" href=\"#开始搭建\">#</a> 开始搭建</h2>\n<p>首先打开服务器控制台，登录云服务器（什么？你还没有服务器？购买链接放在这里了，<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdXJsLnFjbG91ZC5jb20vV292a1BsT2M=\">有需要的点开链接购买</span> ）。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/40d24c4020387.png\" alt=\"image-20211106152631735\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/5b491926960ed.png\" alt=\"image-20211106152712314\" /></p>\n<h3 id=\"安装docker\"><a class=\"anchor\" href=\"#安装docker\">#</a> 安装 docker</h3>\n<p>在控制台输入下面的命令来安装 docker，因为我们这次要搭建的项目是在 docker 中运行的。</p>\n<figure class=\"highlight dockerfile\"><figcaption data-lang=\"Docker\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>sudo yum update -y</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>curl -sSL https://get.daocloud.io/docker | sh</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sudo systemctl start docker</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>sudo systemctl status docker</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>sudo systemctl enable docker</pre></td></tr></table></figure><p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/e8481daa25683.png\" alt=\"image-20211106153157954\" /></p>\n<p>当看到下面的内容出现就代表你安装成功了～</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/5f8f58aa7121b.png\" alt=\"image-20211106153414797\" /></p>\n<p>接下来安装漏洞扫描项目：</p>\n<p>1. 克隆拉取项目：</p>\n<p>运行下面的命令：</p>\n<figure class=\"highlight git\"><figcaption data-lang=\"git\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>git clone https://github.com/awake1t/linglong</pre></td></tr></table></figure><p>PS：如果你的服务器没有安装 <code>git</code>  要先运行下面的命令安装一下 <code>git</code></p>\n<pre><code class=\"language-yum\">yum install git\n</code></pre>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/00c6a41fc2ef7.png\" alt=\"image-20211106155203053\" /></p>\n<p>输入 Y 即可安装成功。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/4f1b461c890fa.png\" alt=\"image-20211106155258611\" /></p>\n<p>正在拉取项目中的状态。</p>\n<p>接下来输入 <code>cd linglong</code>  进入项目文件夹中。</p>\n<p>然后输入 <code>docker-compose up -d</code>  来运行项目。</p>\n<p>出现下面的界面就说明你安装成功了：</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/6fc478c937a90.png\" alt=\"image-20211106160431150\" /></p>\n<p>为了保险起见，输入 <code>docker container ls -a</code>  来验证是否运行正常。</p>\n<p>出现下面的界面代表正常没有问题：</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/98c85339f58f7.png\" alt=\"image-20211106160644949\" /></p>\n<p>至此项目就安装完成了，下面我们来进行后台的一些配置。</p>\n<p>如果你用的是腾讯云等带有防火墙的厂商，记得去控制台打开防火墙 <code>8001</code>  端口。</p>\n<p>因为我用的是腾讯云，所以介绍一下腾讯云端口的配置方法：</p>\n<p>进入控制台，点击防火墙。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/3f99223bec4cc.png\" alt=\"image-20211106164401757\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/41138db1025ac.png\" alt=\"image-20211106164450355\" /></p>\n<p>这样我们就可以通过 <code>ip:8001</code>  访问项目的后台管理端了。</p>\n<p>默认账号和密码：</p>\n<p>账号:linglong</p>\n<p>密码:linglong5s</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>用户名</th>\n<th>密码</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Web 账号</td>\n<td>linglong</td>\n<td>linglong5s</td>\n</tr>\n<tr>\n<td>mysql 数据库</td>\n<td>root</td>\n<td>linglong8s</td>\n</tr>\n</tbody>\n</table>\n<p><strong>注：首次运行在设置里修改扫描的网段范围，点击保存后就行了</strong>  然后耐心等待系统自动扫描，扫描耗时您配置的网段 + 端口 + 速率会有变化</p>\n<pre><code>git clone https://github.com/awake1t/linglong\ncd linglong/web\n\n# 把 YourServerIp 换成你的IP地址\nsed -i 's#http://127.0.0.1:18000#http://YourServerIp:18000#g' ./dist/js/app.4dccb236.js &amp;&amp; sed -i 's#http://127.0.0.1:18000#http://YourServerIp:18000#g' ./dist/js/app.4dccb236.js.map\n\n\n# 重要！！！ 如果之前安装过，使用如下命令删除所有名字包含linglong的历史镜像\ndocker rmi $(docker images | grep &quot;linglong&quot; | awk '&#123;print $3&#125;') \n\n\n# 返回到 linglong的目录下\ncd ../\ndocker-compose up -d\n\n一般这时候就部署好了,如果访问不了. 要确认下服务器上安全组的8001和18000有没有打开.\n</code></pre>\n","more":"<h1 id=\"服务器漏洞扫描系统的简单搭建\"><a class=\"anchor\" href=\"#服务器漏洞扫描系统的简单搭建\">#</a> 服务器漏洞扫描系统的简单搭建</h1>\n<h2 id=\"项目介绍\"><a class=\"anchor\" href=\"#项目介绍\">#</a> 项目介绍</h2>\n<p>这是一款开源的资产巡航扫描系统。系统定位是通过 <code>masscan+nmap</code>  无限循环去发现新增资产，自动进行端口弱口令爆破、指纹识别、 <code>XrayPoc</code>  扫描。主要功能包括:  <code>资产探测</code> 、  <code>端口爆破</code> 、  <code>Poc扫描</code> 、  <code>指纹识别</code> 、  <code>定时任务</code> 、 管理后台识别、 报表展示。 通过 Docker 搭建好之后，设置好你要扫描的网段跟爆破任务，就不需要去操作其他的事情了，没事的时候过来收漏洞就行了。</p>\n<h2 id=\"功能清单\"><a class=\"anchor\" href=\"#功能清单\">#</a> 功能清单</h2>\n<ul>\n<li>\n<p>masscan+namp 巡航扫描资产</p>\n</li>\n<li>\n<p>创建定时爆破任务 (FTP/SSH/SMB/MSSQL/MYSQL/POSTGRESQL/MONGOD)</p>\n</li>\n<li>\n<p>管理后台识别</p>\n</li>\n<li>\n<p>结果导出</p>\n</li>\n<li>\n<p>报表展示</p>\n</li>\n<li>\n<p>docker 一键部署</p>\n</li>\n<li>\n<p>CMS 识别 - 结合威胁情报、如果某个 CMS 爆出漏洞，可以快速定位企业内部有多少资产</p>\n</li>\n<li>\n<p>poc 扫描 - 调用 xray 的 Poc, 对新发现的资产自动扫描 poc</p>\n</li>\n</ul>\n<p><strong>管理后台识别</strong></p>\n<p>不论甲方乙方。大家在渗透一个网站的时候，很多时候都想尽快找到后台地址。linglong 对自己的资产库进行 Title 识别。然后根据 title 关键字、url 关键字、body 关键字 (比如 url 中包含 login、body 中包含 username/password) 进行简单区分后台。帮助我们渗透中尽快锁定后台。</p>\n<p><strong>指纹识别</strong></p>\n<p>系统会对新发现的资产进行一遍指纹识别，也可以手动新增指纹。比如某个 CMS 爆出漏洞，新增指纹扫描一遍系统中存在的资产。可以快速定位到漏洞资产，对于渗透打点或者甲方应急都是极好的。</p>\n<p><strong>POC 扫描</strong></p>\n<p>对于任何一个扫描系统，poc 扫描都是必不可少的。但是 poc 的更新一直是所有开源项目面临的一个问题。综合考虑用 Xray 的 poc, 感谢 Xray 对安全圈做出的贡献！linglong 会对每次新发现的资产进行一遍 Xray 的 Poc 扫描。如果发现漏洞会自动入库，可以可视化查看漏洞结果。</p>\n<p><strong>资产巡航更新</strong></p>\n<p>masscan 可以无限扫描，但是对于失效资产我们也不能一直保存。linglong 通过动态设置资产扫描周期，对于 N 个扫描周期都没有扫描到的资产会进行删除。保存资产的时效性。</p>\n<h2 id=\"预览\"><a class=\"anchor\" href=\"#预览\">#</a> 预览</h2>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/d36ae00634aa1.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/fd9c4f1a4dbf8.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/9a34351e3fc6a.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/19e447c7adacf.png\" alt=\"img\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/48f2907117f4c.png\" alt=\"img\" /></p>\n<h2 id=\"开始搭建\"><a class=\"anchor\" href=\"#开始搭建\">#</a> 开始搭建</h2>\n<p>首先打开服务器控制台，登录云服务器（什么？你还没有服务器？购买链接放在这里了，<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jdXJsLnFjbG91ZC5jb20vV292a1BsT2M=\">有需要的点开链接购买</span> ）。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/40d24c4020387.png\" alt=\"image-20211106152631735\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/5b491926960ed.png\" alt=\"image-20211106152712314\" /></p>\n<h3 id=\"安装docker\"><a class=\"anchor\" href=\"#安装docker\">#</a> 安装 docker</h3>\n<p>在控制台输入下面的命令来安装 docker，因为我们这次要搭建的项目是在 docker 中运行的。</p>\n<figure class=\"highlight dockerfile\"><figcaption data-lang=\"Docker\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>sudo yum update -y</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>curl -sSL https://get.daocloud.io/docker | sh</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>sudo systemctl start docker</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>sudo systemctl status docker</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>sudo systemctl enable docker</pre></td></tr></table></figure><p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/e8481daa25683.png\" alt=\"image-20211106153157954\" /></p>\n<p>当看到下面的内容出现就代表你安装成功了～</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/5f8f58aa7121b.png\" alt=\"image-20211106153414797\" /></p>\n<p>接下来安装漏洞扫描项目：</p>\n<p>1. 克隆拉取项目：</p>\n<p>运行下面的命令：</p>\n<figure class=\"highlight git\"><figcaption data-lang=\"git\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>git clone https://github.com/awake1t/linglong</pre></td></tr></table></figure><p>PS：如果你的服务器没有安装 <code>git</code>  要先运行下面的命令安装一下 <code>git</code></p>\n<pre><code class=\"language-yum\">yum install git\n</code></pre>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/00c6a41fc2ef7.png\" alt=\"image-20211106155203053\" /></p>\n<p>输入 Y 即可安装成功。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/4f1b461c890fa.png\" alt=\"image-20211106155258611\" /></p>\n<p>正在拉取项目中的状态。</p>\n<p>接下来输入 <code>cd linglong</code>  进入项目文件夹中。</p>\n<p>然后输入 <code>docker-compose up -d</code>  来运行项目。</p>\n<p>出现下面的界面就说明你安装成功了：</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/6fc478c937a90.png\" alt=\"image-20211106160431150\" /></p>\n<p>为了保险起见，输入 <code>docker container ls -a</code>  来验证是否运行正常。</p>\n<p>出现下面的界面代表正常没有问题：</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/98c85339f58f7.png\" alt=\"image-20211106160644949\" /></p>\n<p>至此项目就安装完成了，下面我们来进行后台的一些配置。</p>\n<p>如果你用的是腾讯云等带有防火墙的厂商，记得去控制台打开防火墙 <code>8001</code>  端口。</p>\n<p>因为我用的是腾讯云，所以介绍一下腾讯云端口的配置方法：</p>\n<p>进入控制台，点击防火墙。</p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/3f99223bec4cc.png\" alt=\"image-20211106164401757\" /></p>\n<p><img data-src=\"https://pic.iczkj.com/pic/2021/11/06/41138db1025ac.png\" alt=\"image-20211106164450355\" /></p>\n<p>这样我们就可以通过 <code>ip:8001</code>  访问项目的后台管理端了。</p>\n<p>默认账号和密码：</p>\n<p>账号:linglong</p>\n<p>密码:linglong5s</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>用户名</th>\n<th>密码</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Web 账号</td>\n<td>linglong</td>\n<td>linglong5s</td>\n</tr>\n<tr>\n<td>mysql 数据库</td>\n<td>root</td>\n<td>linglong8s</td>\n</tr>\n</tbody>\n</table>\n<p><strong>注：首次运行在设置里修改扫描的网段范围，点击保存后就行了</strong>  然后耐心等待系统自动扫描，扫描耗时您配置的网段 + 端口 + 速率会有变化</p>\n<pre><code>git clone https://github.com/awake1t/linglong\ncd linglong/web\n\n# 把 YourServerIp 换成你的IP地址\nsed -i 's#http://127.0.0.1:18000#http://YourServerIp:18000#g' ./dist/js/app.4dccb236.js &amp;&amp; sed -i 's#http://127.0.0.1:18000#http://YourServerIp:18000#g' ./dist/js/app.4dccb236.js.map\n\n\n# 重要！！！ 如果之前安装过，使用如下命令删除所有名字包含linglong的历史镜像\ndocker rmi $(docker images | grep &quot;linglong&quot; | awk '&#123;print $3&#125;') \n\n\n# 返回到 linglong的目录下\ncd ../\ndocker-compose up -d\n\n一般这时候就部署好了,如果访问不了. 要确认下服务器上安全组的8001和18000有没有打开.\n</code></pre>\n","categories":[],"tags":[]}